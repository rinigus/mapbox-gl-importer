# Definition of Mapbox GL layers

defaults:
  srs: +proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs
  file: data/europe-estonia.sqlite
  key_field: rowid
  type: sqlite
  use_spatial_index: "true"
  zmin: 0
  zmax: 20

parameters:
  attribution: Data (c) OpenStreetMap (and) contributors, ODbL
  bounds: -180,-85.0511,180,85.0511
  center: 0,20,4
  format: pbf
  maxzoom: 20
  minzoom: 0  
  
layers:
  - id: land
    extent: -20037508.34 -20037508.34 20037508.34 20037508.34
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
    file: data/global/simplified-land-polygons-complete-3857/simplified_land_polygons.shp
    type: shape
    zmax: 9

  - id: land
    extent: -20037508.34 -20037508.34 20037508.34 20037508.34
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
    file: data/global/land-polygons-split-3857/land_polygons.shp
    type: shape
    zmin: 10

  - id: landuse
    zmin: 4
    table: |
      SELECT rowid, geometry, type
      FROM osm_landusages
      ORDER BY area DESC
      {% if z == 10 %}
      {% else %}
      {% endif %}

